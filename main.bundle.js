!function(e){function t(t){for(var r,a,l=t[0],c=t[1],u=t[2],s=0,f=[];s<l.length;s++)a=l[s],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(d&&d(t);f.length;)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,l=1;l<n.length;l++){var c=n[l];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={0:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;i.push([200,1]),n()}({106:function(e,t){},108:function(e,t){},142:function(e,t){},143:function(e,t){},186:function(e,t,n){var r=n(14),o=n(187);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},187:function(e,t,n){(t=n(15)(!1)).push([e.i,"#app{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}.letter-title-input{font:inherit;overflow:hidden;background-color:#FEF8F0;text-overflow:ellipsis;white-space:nowrap;font-size:3vmin;box-sizing:border-box;padding:10px;width:97vw;height:7vh;color:gray;border:none;border-bottom:solid 1px #e6e6e6}.letter-title-input:focus{outline:none;border-bottom:solid 1px gray}.letter-title-input:focus:empty:before{color:gray}.letter-title-input:hover:empty:before{color:gray}.letter-title-input:empty:before{content:attr(placeholder);display:block;color:#b3b3b3}.letter-title-input--warning{background-color:#FFF0F0;color:#ff8a8a}\n",""]),e.exports=t},188:function(e,t,n){var r=n(14),o=n(189);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},189:function(e,t,n){(t=n(15)(!1)).push([e.i,"#app{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}.letter-body-input{font:inherit;box-sizing:border-box;height:87vh;width:82vmax;resize:none;background-color:#FEF8F0;border:none;font-size:3vmin;color:gray;line-height:3vmin;overflow:auto;padding:10px 25px;border-left:solid 1px #e6e6e6;border-bottom:solid 1px #e6e6e6}.letter-body-input:focus{outline:none;border-left:solid 1px gray}.letter-body-input:focus:empty:before{color:gray}.letter-body-input:hover:empty:before{color:gray}.letter-body-input:empty:before{content:attr(placeholder);display:block;color:#b3b3b3}\n",""]),e.exports=t},190:function(e,t,n){var r=n(14),o=n(191);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},191:function(e,t,n){(t=n(15)(!1)).push([e.i,"#app{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}.letter-button{cursor:pointer;border:none;font:inherit;color:inherit;background-color:#FFF3E3;border-radius:6px}.letter-button:focus{outline:none}.letter-button:hover,.letter-button:active,.letter-button:focus{color:gray;background-color:rgba(128,128,128,0.2) !important}.letter-button--disabled{color:#cdcdcd;cursor:default}.letter-button--disabled:hover{color:#cdcdcd;background-color:inherit !important}\n",""]),e.exports=t},192:function(e,t,n){var r=n(14),o=n(193);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},193:function(e,t,n){(t=n(15)(!1)).push([e.i,"#app{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}.side-bar{color:gray;background-color:#FFF3E3;width:18vmax;height:100%;overflow:hidden}.side-bar--empty{font-size:2vmin;user-select:none;text-align:center;margin:10px;color:#b3b3b3}.side-bar-letter{display:flex;flex-direction:column;justify-content:center;cursor:pointer;color:gray;height:8vmin;padding:0 5px;border:none;border-bottom:solid 1px #e6e6e6}.side-bar-letter-header{display:flex;flex-direction:row;align-items:center;justify-content:space-between;height:5vmin}.side-bar-letter-header-title{font-size:2.3vmin;line-height:2.3vmin;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.side-bar-letter-header-button{background-color:#fcedd8;display:none;font-size:2vmin}.side-bar-letter-info{user-select:none;color:#b3b3b3;font-size:2vmin;line-height:2vmin;height:3vmin;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.side-bar-letter-info-date{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.side-bar-letter:hover{background-color:#fcedd8}.side-bar-letter:hover .side-bar-letter-header-button{display:block}.side-bar-letter:hover .side-bar-letter-info-button{background-color:#fcedd8}\n",""]),e.exports=t},194:function(e,t,n){var r=n(14),o=n(195);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},195:function(e,t,n){(t=n(15)(!1)).push([e.i,'#app{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}.main-container{font-family:"Roboto",sans-serif;color:gray;background-color:#FEF8F0;display:flex;flex-direction:column;justify-content:start;width:97vw;height:97vh;overflow:hidden;border-radius:6px;box-shadow:0 1px 2px rgba(0,0,0,0.07),0 2px 4px rgba(0,0,0,0.07),0 4px 8px rgba(0,0,0,0.07),0 8px 16px rgba(0,0,0,0.07),0 16px 32px rgba(0,0,0,0.07),0 32px 64px rgba(0,0,0,0.07)}.main-container-letter-body{width:100%;height:100%;display:flex;flex-direction:row;justify-content:start}\n',""]),e.exports=t},196:function(e,t,n){var r=n(14),o=n(197);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},197:function(e,t,n){(t=n(15)(!1)).push([e.i,"#app{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}.letter-footer-info{box-sizing:border-box;display:flex;flex-direction:row;align-items:flex-end;justify-content:space-between;background-color:#FFF3E3;font:inherit;height:5vh;font-size:2vmin;line-height:3vmin;color:#b3b3b3}.letter-footer-info-element,.letter-footer-info-button{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0 10px 2px 2px}.letter-footer-info-button{width:18vmax;background-color:#FFF3E3;font-size:3vmin;text-align:center}\n",""]),e.exports=t},198:function(e,t,n){var r=n(14),o=n(199);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},a=(r(o,i),o.locals?o.locals:{});e.exports=a},199:function(e,t,n){(t=n(15)(!1)).push([e.i,"html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{background-color:#ffffff;line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after{content:none}q:before,q:after{content:none}table{border-collapse:collapse;border-spacing:0}\n",""]),e.exports=t},200:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(31),i=n.n(o),a=n(16),l=n(93),c=n(4),u=function(e){return{type:"SELECT_CURRENT",id:e}},d=(n(34),n(32));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=Object(d.v4)(),m=[{id:h,title:"",body:"",isFavorite:!1,dateCreated:Date(),dateModified:Date()}],v=h,g=Object(a.combineReducers)({letters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_LETTER":return[].concat(b(e),[{id:t.id,title:"",body:"",isFavorite:!1,dateCreated:Date(),dateModified:Date()}]);case"FILL_LETTER_TITLE":return b(e).map((function(e){return e.id===t.id?f({},e,{title:t.title,dateModified:Date()}):e}));case"FILL_LETTER_BODY":return b(e).map((function(e){return e.id===t.id?f({},e,{body:t.body,dateModified:Date()}):e}));case"DELETE_LETTER":return b(e).filter((function(e){return e.id!==t.id}));case"MAKE_FAVORITE":return b(e).map((function(e){return e.id===t.id?f({},e,{isFavorite:!e.isFavorite}):e}));default:return e}},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;return"SELECT_CURRENT"===t.type?t.id:e}}),y=n(8),x=n(33),w=n.n(x),E=function(e){return e.length<50},j=function(e){return e?e.replace(/\s|(&nbsp;)|(<.*?>)/g," ").split(" ").filter((function(e){return""!==e})).length:0},O=function(e){return e?e.replace(/\s+/g,"").replace(/<.*?>/g,"").replace(/&nbsp;/g,"").length:0},F=function(e){var t=e.match(/(&nbsp;)|(<div>)|\s/g);return t?t.length:0};function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k=function(e){var t=new Date(e).getTime(),n=((new Date).getTime()-t)/1e3;if(isNaN(n))return"0 s";if(n<60){var r=n.toFixed(0);return"".concat(r," s")}if(n<3600){var o=(n/60).toFixed(0);return"".concat(o," m")}if(n<86400){var i=(n/3600).toFixed(0);return"".concat(i," h")}var a=(n/86400).toFixed(0);return"".concat(a," d")},_=function(e){return e.current},D=function(e){return e.letters},N=Object(y.a)(D,(function(e){return e.length}));n(186);function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S=function(e){var t=e.bodyInputRef,n=Object(c.c)(_),o=Object(y.a)(D,(function(e){return e.find((function(e){return e.id===n}))||{id:"",title:""}})),i=Object(c.c)(o),a=i.id,l=i.title,u=L(Object(r.useState)(!1),2),d=u[0],s=u[1],f=Object(c.b)(),p=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=p.current;e&&(e.focus(),E(l)?(s(!1),e.disabled=!1):(s(!0),e.disabled=!0))}),[a]);var b=d?"letter-title-input letter-title-input--warning":"letter-title-input";return r.createElement(w.a,{html:l,className:b,innerRef:p,onChange:function(e){var t=e.target.value;E(t)?s(!1):s(!0),f(function(e,t){return{type:"FILL_LETTER_TITLE",title:e,id:t}}(t,a))},onKeyDown:function(e){var n=e.keyCode||e.which,r=t.current;13===n&&r&&(e.preventDefault(),r.focus())},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)},placeholder:"Letter title here..."})};S.displayName="LetterTitleInput";n(188);var M=Object(r.forwardRef)((function(e,t){var n=Object(c.c)(_),o=Object(y.a)(D,(function(e){return e.find((function(e){return e.id===n}))||{id:"",body:""}})),i=Object(c.c)(o),a=i.id,l=i.body,u=Object(c.b)();return r.createElement(w.a,{html:l,innerRef:t,className:"letter-body-input",onChange:function(e){var t=e.target.value;u(function(e,t){return{type:"FILL_LETTER_BODY",body:e,id:t}}(t,a))},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,t)},placeholder:"Your letter here..."})}));M.displayName="LetterBodyInput";n(190);var R=function(e){var t=e.children,n=e.handleClick,o=e.isDisabled,i=void 0!==o&&o,a=e.styles;return r.createElement("button",{className:"letter-button ".concat(i&&"letter-button--disabled"," ").concat(a),onClick:n,disabled:i},t)},C=(n(192),function(){var e=Object(c.c)((function(e){return e.current})),t=Object(y.a)((function(e){return e.letters}),(function(t){return t.filter((function(t){return t.id!==e}))})),n=Object(c.c)(t),o=Object(r.useMemo)((function(){return function(e){return T(e).sort((function(e,t){var n=new Date(e.dateModified),r=new Date(t.dateModified);return n>r?-1:n<r?1:0}))}(n)}),[n]),i=Object(c.b)();return r.createElement("div",{className:"side-bar"},o&&o.length?o.map((function(e,t){return r.createElement("div",{className:"side-bar-letter",onClick:function(t){return function(e,t){e.preventDefault(),i(u(t))}(t,e.id)},key:e.id},r.createElement("div",{className:"side-bar-letter-header"},r.createElement("span",{className:"side-bar-letter-header-title"},e.title||"Unnamed"),r.createElement(R,{styles:"side-bar-letter-header-button",handleClick:function(t){return function(e,t){e.preventDefault(),e.stopPropagation(),i(function(e){return{type:"DELETE_LETTER",id:e}}(t))}(t,e.id)}},r.createElement("span",null,"✖"))),r.createElement("div",{className:"side-bar-letter-info"},r.createElement(R,{styles:"side-bar-letter-info-button",handleClick:function(t){return function(e,t){e.preventDefault(),e.stopPropagation(),i(function(e){return{type:"MAKE_FAVORITE",id:e}}(t))}(t,e.id)}},e.isFavorite?r.createElement("span",null,t+1,"★"):r.createElement("span",null,t+1,"☆")),r.createElement("span",{className:"side-bar-letter-info-date"},"Modified ",k(e.dateModified)," ago")))})):r.createElement("div",{className:"side-bar--empty"},"You have no other letters now"))});C.displayName="SideBar";n(194);var P=function(){var e=Object(r.useRef)(null);return r.createElement("div",{className:"main-container"},r.createElement(S,{bodyInputRef:e}),r.createElement("div",{className:"main-container-letter-body"},r.createElement(C,null),r.createElement(M,{ref:e})),r.createElement(I,null))},I=(n(196),function(){var e=Object(c.c)(_),t=Object(c.c)(N),n=Object(y.a)(D,(function(t){return t.find((function(t){return t.id===e}))||{body:"",dateCreated:""}})),o=Object(y.a)(n,(function(e){var t=e.body,n=e.dateCreated;return{length:O(t),wordCount:j(t),whiteSpace:F(t),timeDifference:k(n)}})),i=Object(c.b)(),a=Object(c.c)(o),l=a.length,s=a.wordCount,f=a.whiteSpace,p=a.timeDifference;return r.createElement("div",{className:"letter-footer-info"},r.createElement("div",{className:"letter-footer-info-button"},r.createElement(R,{handleClick:function(){var e=Object(d.v4)();i(function(e){return{type:"NEW_LETTER",id:e}}(e)),i(u(e))},isDisabled:10===t},r.createElement("span",null,"New Letter ✉"))),r.createElement("span",{className:"letter-footer-info-element"},"Word count: ",s),r.createElement("span",{className:"letter-footer-info-element"},"White Space: ",f),r.createElement("span",{className:"letter-footer-info-element"},"Symbols count: ",l),r.createElement("span",{className:"letter-footer-info-element"},"Created ",p," ago"))});I.displayName="LetterFooterInfo";n(198);var A=function(){return r.createElement(P,null)};A.displayName="App";n(25);var z=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(e){return}}(),q=Object(a.createStore)(g,z,Object(l.devToolsEnhancer)({}));q.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(e){}}(q.getState())})),i.a.render(r.createElement(c.a,{store:q},r.createElement(A,null)),document.getElementById("app"))},25:function(e,t){},34:function(e,t){}});